(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0300":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uIcon:a("1203").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"bookshop",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.skip("/pages/bookshop/bookshop")}}},[a("v-uni-view",{staticClass:"text"},[t._v("书城"),a("u-icon",{staticStyle:{"margin-left":"5rpx"},attrs:{name:"arrow-right",size:"30"}})],1)],1),a("v-uni-view",{staticClass:"bookshelf",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.skip("/pages/bookshelf/bookshelf")}}},[a("v-uni-view",{staticClass:"text"},[t._v("书架"),a("u-icon",{staticStyle:{"margin-left":"5rpx"},attrs:{name:"arrow-right",size:"30"}})],1)],1),a("v-uni-view",{staticClass:"readerRecord",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.skip("/pages/readerRecord/readerRecord")}}},[a("v-uni-view",{staticClass:"text"},[t._v("在读"),a("u-icon",{staticStyle:{"margin-left":"5rpx"},attrs:{name:"arrow-right",size:"30"}})],1)],1)],1),t._l(t.classifions,(function(e){return a("v-uni-view",{staticClass:"theclassify"},[a("v-uni-view",{staticClass:"title"},[t._v("分类•"+t._s(e.type))]),a("v-uni-view",{staticClass:"main"},t._l(e.bookList,(function(e){return a("v-uni-view",{staticClass:"bookInfo",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tobookInfo(e.bookid)}}},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{staticClass:"img",attrs:{alt:"123",src:e.img,mode:""}})],1),a("v-uni-view",{staticClass:"right"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(e.bookName))]),a("v-uni-view",{staticClass:"author"},[t._v(t._s(e.author))])],1)],1)})),1)],1)})),t._l(t.books,(function(e){return a("v-uni-view",{staticClass:"thebook",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tobookInfo(e.bookid)}}},[a("v-uni-view",{staticClass:"top"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{attrs:{alt:"123",src:e.img,mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"right"},[a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"bookName"},[t._v(t._s(e.bookName))]),a("v-uni-view",{staticClass:"classify"},[a("v-uni-view",[t._v(t._s(e.type))])],1)],1),a("v-uni-view",{staticClass:"author"},[t._v(t._s(e.author))])],1)],1),a("v-uni-view",{staticClass:"hr"}),a("v-uni-view",{staticClass:"bom"},[t._v(t._s(e.introduction))])],1)}))],2)},n=[]},"106c":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".content[data-v-3aa3e83f]{padding:0 %?30?%}.header[data-v-3aa3e83f]{margin-bottom:%?20?%;margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.header .bookshop[data-v-3aa3e83f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?32?%}.header .bookshop .text[data-v-3aa3e83f]{margin:0 auto;padding:%?10?% %?0?%;width:%?160?%;border-radius:%?30?%;background:rgba(255,170,0,.6)}.header .bookshelf[data-v-3aa3e83f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?32?%}.header .bookshelf .text[data-v-3aa3e83f]{margin:0 auto;padding:%?10?% %?0?%;width:%?160?%;border-radius:%?30?%;background:#8ffff2;background:rgba(170,170,127,.6)}.header .readerRecord[data-v-3aa3e83f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?32?%}.header .readerRecord .text[data-v-3aa3e83f]{margin:0 auto;padding:%?10?% %?0?%;width:%?160?%;border-radius:%?30?%;background:rgba(255,170,127,.6)}.theclassify[data-v-3aa3e83f]{width:%?690?%;background:#fff;margin-bottom:%?50?%;border-radius:%?30?%;padding:%?30?%}.theclassify .title[data-v-3aa3e83f]{margin-bottom:%?30?%;font-size:%?40?%;letter-spacing:%?4?%}.theclassify .main[data-v-3aa3e83f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.theclassify .main .bookInfo[data-v-3aa3e83f]{width:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?15?%}.theclassify .main .bookInfo .left .img[data-v-3aa3e83f]{width:%?110?%;height:%?150?%}.theclassify .main .bookInfo .right[data-v-3aa3e83f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-left:%?30?%}.theclassify .main .bookInfo .right .name[data-v-3aa3e83f]{width:%?180?%;font-size:%?32?%;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.theclassify .main .bookInfo .right .author[data-v-3aa3e83f]{width:%?180?%;margin-top:%?10?%;font-size:%?26?%;font-weight:500;color:#7d7d7d;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.thebook[data-v-3aa3e83f]{width:%?690?%;background:#fff;margin-bottom:%?50?%;border-radius:%?30?%;padding:%?30?% 0}.thebook .top[data-v-3aa3e83f]{width:100%;height:%?150?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?0?% %?30?%}.thebook .top .left uni-image[data-v-3aa3e83f]{width:%?100?%;height:%?100?%}.thebook .top .right[data-v-3aa3e83f]{margin-left:%?40?%;width:100%}.thebook .top .right .info[data-v-3aa3e83f]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.thebook .top .right .info .bookName[data-v-3aa3e83f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;max-width:%?280?%;font-size:%?36?%;font-weight:400;letter-spacing:%?5?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.thebook .top .right .info .classify[data-v-3aa3e83f]{margin-left:auto}.thebook .top .right .info .classify uni-view[data-v-3aa3e83f]{max-width:%?200?%;font-size:%?32?%;padding:%?5?% %?15?%;border-radius:%?10?%;margin-left:%?30?%;color:#fff;background:#a50;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.thebook .top .right .author[data-v-3aa3e83f]{color:#7d7d7d;margin-top:%?20?%;letter-spacing:%?3?%}.thebook .hr[data-v-3aa3e83f]{width:%?690?%;display:block;height:%?1?%;background:#ccc;margin-top:%?30?%;margin-bottom:%?15?%}.thebook .bom[data-v-3aa3e83f]{padding:%?0?% %?30?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:4;font-size:%?32?%;line-height:%?74?%;letter-spacing:%?2?%}",""]),t.exports=e},"2e29":function(t,e,a){var i=a("106c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("628f8b04",i,!0,{sourceMap:!1,shadowMode:!1})},6130:function(t,e,a){"use strict";a.r(e);var i=a("0300"),o=a("ca3d");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("8032");var s,r=a("f0c5"),l=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"3aa3e83f",null,!1,i["a"],s);e["default"]=l.exports},8032:function(t,e,a){"use strict";var i=a("2e29"),o=a.n(i);o.a},"8b20":function(t,e,a){"use strict";(function(t,i){var o=a("4ea4");a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=o(a("1da1")),s={data:function(){return{pagesNum:1,classifions:[],books:[],total:0}},onLoad:function(){},onReachBottom:function(){this.init()},onPullDownRefresh:function(){this.pagesNum=1,this.getType()},created:function(){this.getType()},onNavigationBarSearchInputClicked:function(){uni.navigateTo({url:"/pages/search/search"})},methods:{init:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=t.database(),o=i.collection("book"),e.total>10*(e.pagesNum-1)?(uni.showLoading({title:"加载中",mask:!1}),o.skip(10*(e.pagesNum-1)).limit(10).get().then((function(t){e.pagesNum=e.pagesNum+1,e.books=e.books.concat(t.result.data),uni.hideLoading(),uni.stopPullDownRefresh()})).catch((function(t){uni.hideLoading(),uni.stopPullDownRefresh()}))):(uni.hideLoading(),uni.stopPullDownRefresh());case 3:case"end":return a.stop()}}),a)})))()},getType:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t.database(),n=o.collection("book"),a.next=4,n.count().then((function(t){i("log",t.result.total," at pages/index/index.vue:120"),e.total=t.result.total,e.init()}));case 4:t.callFunction({name:"getBookType"}).then((function(t){e.classifions=t.result}));case 5:case"end":return a.stop()}}),a)})))()},tobookInfo:function(t){uni.navigateTo({url:"/pages/reader/book-baseinfo/book-baseinfo?&id="+t})},skip:function(t){uni.navigateTo({url:t})}}};e.default=s}).call(this,a("a9ff")["default"],a("0de9")["log"])},ca3d:function(t,e,a){"use strict";a.r(e);var i=a("8b20"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a}}]);